(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6281d012"],{"2e08":function(t,e,a){var n=a("9def"),i=a("9744"),r=a("be13");t.exports=function(t,e,a,s){var c=String(r(t)),l=c.length,o=void 0===a?" ":String(a),u=n(e);if(u<=l||""==o)return c;var d=u-l,f=i.call(o,Math.ceil(d/o.length));return f.length>d&&(f=f.slice(0,d)),s?f+c:c+f}},6088:function(t,e,a){},8884:function(t,e,a){"use strict";var n=a("6088"),i=a.n(n);i.a},9744:function(t,e,a){"use strict";var n=a("4588"),i=a("be13");t.exports=function(t){var e=String(i(this)),a="",r=n(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},d366:function(t,e,a){},d3ec:function(t,e,a){"use strict";var n=a("d366"),i=a.n(n);i.a},e5df:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GenericDetailPage",t._g(t._b({attrs:{object:t.ticket,"active-menu":t.config.activeMenu},on:{"update:object":function(e){t.ticket=e},"update:activeMenu":function(e){return t.$set(t.config,"activeMenu",e)},"update:active-menu":function(e){return t.$set(t.config,"activeMenu",e)}}},"GenericDetailPage",t.config,!1),t.$listeners),[a(t.config.activeMenu,{tag:"component",attrs:{object:t.ticket}})],1)},i=[],r=a("cd4a"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GenericTicketDetail",{attrs:{object:t.object,"detail-card-items":t.detailCardItems,"special-card-items":t.specialCardItems}})},c=[],l=(a("ac6a"),a("f3e2"),a("ed08")),o=a("cf45"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:17}},[a("Details",{attrs:{"detail-card-items":t.detailCardItems,title:t.$t("common.BasicInfo")}}),t._v(" "),t.specialCardItems.length>0?a("Details",{attrs:{"detail-card-items":t.specialCardItems,title:t.$t("common.ApprovaLevel")}}):t._e(),t._v(" "),t._t("default",null,{id:"MoreDetails"})],2)],1)},d=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("IBox",{staticClass:"box"},[a("div",{staticClass:"clearfix ibox-title",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"fa fa-info-circle"}),t._v(" "+t._s(t.title)+"\n  ")]),t._v(" "),a("div",{staticClass:"content"},[a("el-row",{attrs:{gutter:10}},t._l(t.detailCardItems,(function(e){return a("el-col",{key:"card-"+e.key,attrs:{span:12}},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"item-label",style:{"text-align":"align"}},[a("label",[t._v(t._s(e.key)+": ")])])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item-text"},[a("ItemValue",t._b({},"ItemValue",e,!1))],1)])],1)],1)})),1),t._v(" "),t.specialCardItems.length>0?a("el-divider"):t._e(),t._v(" "),a("el-row",{attrs:{gutter:10}},t._l(t.specialCardItems,(function(e){return a("el-col",{key:"card-"+e.key,attrs:{span:24}},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"item-label",style:{"text-align":"align"}},[a("label",[t._v(t._s(e.key)+": ")])])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item-text"},[a("ItemValue",t._b({},"ItemValue",e,!1))],1)])],1)],1)})),1)],1)])},p=[],m=a("a735"),v=a("e67a"),g={name:"Details",components:{ItemValue:m["a"],IBox:v["a"]},props:{specialCardItems:{type:Array,default:function(){return[]}},detailCardItems:{type:Array,default:function(){return[]}},title:{type:String,default:""}},data:function(){return{}}},b=g,h=(a("8884"),a("2877")),y=Object(h["a"])(b,f,p,!1,null,"3bd153bc",null),_=y.exports,k={name:"GenericTicketDetail",components:{Details:_},props:{object:{type:Object,default:function(){return{}}},specialCardItems:{type:Array,default:function(){return[]}},detailCardItems:{type:Array,default:function(){return[]}}},data:function(){return{}}},j=k,C=Object(h["a"])(j,u,d,!1,null,"bcd15c9c",null),D=C.exports,I={name:"",components:{GenericTicketDetail:D},props:{object:{type:Object,default:function(){return{}}}},data:function(){return{comments:""}},computed:{detailCardItems:function(){return[{key:this.$t("tickets.type"),value:this.object.type_display},{key:this.$t("tickets.ApprovalLevel"),value:this.object.approval_level+"级"},{key:this.$t("common.CreatedBy"),value:this.object.created_by},{key:this.$t("common.dateCreated"),value:Object(o["p"])(this.object.date_created)},{key:this.$t("common.DateUpdated"),value:Object(o["p"])(this.object.date_updated)}]},specialCardItems:function(){var t=[{key:this.$t("tickets.OneAssigneeType"),value:""},{key:this.$t("tickets.OneAssignee"),value:""},{key:this.$t("tickets.TwoAssigneeType"),value:""},{key:this.$t("tickets.TwoAssignee"),value:""}];return this.object.rules.forEach((function(e,a){1===e.level?(t[0].value=e.strategy_display,t[1].value=e.assignees_display.join(",")):(t[2].value=e.strategy_display,t[3].value=e.assignees_display.join(","))})),t.slice(0,2*this.object.rules.length)}},methods:{formatTime:function(t){return Object(l["a"])(Object(l["b"])(t))},toSafeLocalDateStr:function(t){return Object(o["p"])(t)},reloadPage:function(){window.location.reload()}}},w=I,$=(a("d3ec"),Object(h["a"])(w,s,c,!1,null,"28d138ec",null)),O=$.exports,x={components:{GenericDetailPage:r["e"],TicketDetail:O,TabPage:r["m"]},data:function(){return{ticket:{user_display:"",type_display:"",status:"",assignees_display:"",date_created:""},config:{activeMenu:"TicketDetail",url:"",submenu:[{title:this.$t("route.TicketDetail"),name:"TicketDetail"}],actions:{detailApiUrl:"/api/v1/tickets/flows/".concat(this.$route.params.id,"/")},getObjectName:this.getObjectName,hasRightSide:!1}}},mounted:function(){},methods:{getObjectName:function(){return this.ticket.type_display}}},M=x,S=Object(h["a"])(M,n,i,!1,null,"c505099a",null);e["default"]=S.exports},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return s}));a("28a5"),a("78ce"),a("f576"),a("a481"),a("6b54"),a("87b3");var n=a("7618");function i(t,e){if(0===arguments.length)return null;var a,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(n["a"])(t)?a=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},s=i.replace(/{([ymdhisa])+}/g,(function(t,e){var a=r[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return s}function r(t,e){t=10===(""+t).length?1e3*parseInt(t):+t;var a=new Date(t),n=Date.now(),r=(n-a)/1e3;return r<30?"刚刚":r<3600?Math.ceil(r/60)+"分钟前":r<86400?Math.ceil(r/3600)+"小时前":r<172800?"1天前":e?i(t,e):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"}function s(t){return Date.parse(t.replace(/-/gi,"/"))}},f576:function(t,e,a){"use strict";var n=a("5ca1"),i=a("2e08"),r=a("a25f"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);n(n.P+n.F*s,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})}}]);