(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d38b92c"],{1:function(e,t){},"134a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GenericCreateUpdatePage",e._b({},"GenericCreateUpdatePage",e.$data,!1))},s=[],n=(a("7f7f"),a("d92a"),a("cd4a")),o=a("e65b"),i={name:"AppChangeAuthPlanCreateUpdate",components:{GenericCreateUpdatePage:n["d"]},data:function(){var e=this,t=o["a"].bind(this)();return{url:"/api/v1/xpack/change-auth-plan/app-plan/",fields:[[this.$t("common.Basic"),["name"]],[this.$t("assets.Applications"),["category","type","apps","system_users"]],[this.$t("xpack.ChangeAuthPlan.PasswordStrategy"),["password_strategy","password","password_rules"]],[this.$t("xpack.Timer"),["is_periodic","crontab","interval"]],[this.$t("common.Other"),["comment"]]],initial:{type:this.$route.query.type,category:this.$route.query.category,password_strategy:"custom",is_periodic:!0,password_rules:{length:30},interval:24},fieldsMeta:{type:{type:"select",disabled:!0},category:{hidden:function(){return!0}},apps:{label:this.$t("assets.Applications"),el:{value:[],ajax:{url:"/api/v1/applications/applications/?category=".concat(this.$route.query.category,"&type=").concat(this.$route.query.type),transformOption:function(e){return{label:e.name+" ("+e.type_display+")",value:e.id}}}}},system_users:{el:{value:[],ajax:{url:function(){var e="/api/v1/assets/system-users/",t=this.$route.query.type;return"remote_app"===this.$route.query.category?e+="?protocol=rdp":t&&(e+="?protocol=".concat(t)),e}.bind(this)(),transformOption:function(t){if("k8s"===e.$route.query.type)return{label:t.name,value:t.id};var a=t.username||"*";return{label:t.name+"("+a+")",value:t.id}}}}},password:t.password,password_rules:t.database_password_rules,is_periodic:t.is_periodic,password_strategy:t.password_strategy,crontab:t.crontab,interval:t.interval},createSuccessNextRoute:{name:"ChangeAuthPlanIndex"},updateSuccessNextRoute:{name:"ChangeAuthPlanIndex"},cleanFormValue:function(e){return"custom"===e["password_strategy"]?delete e["password_rules"]:delete e["password"],""===e["interval"]&&delete e["interval"],e}}}},l=i,u=a("2877"),p=Object(u["a"])(l,r,s,!1,null,"7969f3a6",null);t["default"]=p.exports},"3cc2":function(e,t,a){},"82a0":function(e,t,a){"use strict";function r(e){window.open("/#/ops/celery/task/".concat(e,"/log/"),"","width=900,height=600")}a.d(t,"a",(function(){return r}))},c0eb:function(e,t,a){"use strict";var r=a("1157"),s=a.n(r);window.$=s.a,window.jQuery=s.a,t["a"]=s.a},e65b:function(e,t,a){"use strict";var r=a("768b"),s=(a("7f7f"),a("ac6a"),a("f3e2"),a("57e7"),a("0692")),n=a("2af9"),o=a("56f5"),i=a("7541"),l=function(e,t,a){if(parseInt(t)<1)return a(new Error(s["a"].t("xpack.ChangeAuthPlan.validatorMessage.EnsureThisValueIsGreaterThanOrEqualTo1")));a()};function u(){return[{id:"length",prop:"length",label:s["a"].t("xpack.ChangeAuthPlan.PasswordLength"),rules:[i["b"]],hidden:function(e){return-1===["random_one","random_all"].indexOf(e.password_strategy)||!e.is_password}}]}function p(){return[{id:"length",prop:"length",label:s["a"].t("xpack.ChangeAuthPlan.PasswordLength"),rules:[i["b"]],hidden:function(e){return-1===["random_one","random_all"].indexOf(e.password_strategy)}},{id:"symbol_set",prop:"symbol_set",label:s["a"].t("xpack.ChangeAuthPlan.SymbolSet"),helpText:s["a"].t("xpack.ChangeAuthPlan.SymbolSetHelpText"),hidden:function(e){return-1===["random_one","random_all"].indexOf(e.password_strategy)}}]}function c(e){var t,a=[];return"asset"===e?t=u():"database"===e&&(t=p()),t.forEach((function(e,t,r){a.push({id:e.id,prop:e.prop,el:{},attrs:{},type:"input",label:e.label,rules:e.rules,helpText:e.helpText,hidden:e.hidden})})),a}function d(){var e=this,t={helpText:s["a"].t("xpack.ChangeAuthPlan.HelpText.UsernameOfCreateUpdatePage")},a={type:"assetSelect",component:n["d"],rules:[{required:!1}],label:s["a"].t("xpack.Asset")},i={component:o["a"],rules:[{required:!0}],label:s["a"].t("xpack.Database"),el:{multiple:!1,value:[],ajax:{url:"/api/v1/applications/applications/?category=db",transformOption:function(e){return{label:e.name+"("+e.type_display+")",value:e.id,protocol:e.type}}}},on:{changeOptions:function(t,a){var s=Object(r["a"])(t,1),n=s[0];a({systemuser:[]}),e.fieldsMeta.systemuser.el.ajax.url="/api/v1/assets/system-users/?protocol=".concat(n[0].protocol)}}},u={hidden:function(e){return"custom"!==e.password_strategy||!1===e.is_password},rules:[{required:"create"===this.$route.meta.action,message:s["a"].t("common.fieldRequiredError"),trigger:"blur"}]},p={type:"group",items:c("asset")},d={type:"group",items:c("database")},h={el:{type:"textarea",placeholder:"-----BEGIN OPENSSH PRIVATE KEY-----",autosize:{minRows:3}},hidden:function(e){return!1===e.is_ssh_key},rules:[{required:"create"===this.$route.meta.action,message:this.$t("common.fieldRequiredError"),trigger:"blur"}]},y={label:s["a"].t("xpack.Node"),el:{value:[],ajax:{url:"/api/v1/assets/nodes/",transformOption:function(e){return{label:e.full_value,value:e.id}}}}},m={type:"switch"},f={type:"switch"},g={label:s["a"].t("xpack.ChangeAuthPlan.PasswordStrategy"),hidden:function(e){return!1===e.is_password}},_={label:s["a"].t("xpack.ChangeAuthPlan.SecretKeyStrategy"),hidden:function(e){return!1===e.is_ssh_key}},b={component:o["a"],label:s["a"].t("xpack.ChangeAuthPlan.SystemUser"),rules:[{required:!0}],el:{value:[],ajax:{url:"/api/v1/assets/system-users/",transformOption:function(e){return{label:e.name+"("+e.username+")",value:e.id}}}}},w={type:"switch"},x={type:"cronTab",component:n["e"],label:s["a"].t("xpack.RegularlyPerform"),hidden:function(e){return!1===e.is_periodic},helpText:s["a"].t("xpack.HelpText.CrontabOfCreateUpdatePage")},v={label:s["a"].t("xpack.CyclePerform"),hidden:function(e){return!1===e.is_periodic},helpText:s["a"].t("xpack.HelpText.IntervalOfCreateUpdatePage"),rules:[{validator:l}]};return{username:t,assets:a,database:i,systemuser:b,password:u,password_strategy:g,ssh_key_strategy:_,private_key:h,asset_password_rules:p,database_password_rules:d,nodes:y,is_password:m,is_periodic:w,is_ssh_key:f,crontab:x,interval:v}}t["a"]=d}}]);