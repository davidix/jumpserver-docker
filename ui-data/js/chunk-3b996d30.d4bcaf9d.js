(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b996d30"],{1:function(e,a){},"3cc2":function(e,a,t){},"82a0":function(e,a,t){"use strict";function s(e){window.open("/#/ops/celery/task/".concat(e,"/log/"),"","width=900,height=600")}t.d(a,"a",(function(){return s}))},c0eb:function(e,a,t){"use strict";var s=t("1157"),r=t.n(s);window.$=r.a,window.jQuery=r.a,a["a"]=r.a},e65b:function(e,a,t){"use strict";var s=t("768b"),r=(t("7f7f"),t("ac6a"),t("f3e2"),t("57e7"),t("0692")),n=t("2af9"),o=t("56f5"),i=t("7541"),l=function(e,a,t){if(parseInt(a)<1)return t(new Error(r["a"].t("xpack.ChangeAuthPlan.validatorMessage.EnsureThisValueIsGreaterThanOrEqualTo1")));t()};function u(){return[{id:"length",prop:"length",label:r["a"].t("xpack.ChangeAuthPlan.PasswordLength"),rules:[i["b"]],hidden:function(e){return-1===["random_one","random_all"].indexOf(e.password_strategy)||!e.is_password}}]}function p(){return[{id:"length",prop:"length",label:r["a"].t("xpack.ChangeAuthPlan.PasswordLength"),rules:[i["b"]],hidden:function(e){return-1===["random_one","random_all"].indexOf(e.password_strategy)}},{id:"symbol_set",prop:"symbol_set",label:r["a"].t("xpack.ChangeAuthPlan.SymbolSet"),helpText:r["a"].t("xpack.ChangeAuthPlan.SymbolSetHelpText"),hidden:function(e){return-1===["random_one","random_all"].indexOf(e.password_strategy)}}]}function d(e){var a,t=[];return"asset"===e?a=u():"database"===e&&(a=p()),a.forEach((function(e,a,s){t.push({id:e.id,prop:e.prop,el:{},attrs:{},type:"input",label:e.label,rules:e.rules,helpText:e.helpText,hidden:e.hidden})})),t}function c(){var e=this,a={helpText:r["a"].t("xpack.ChangeAuthPlan.HelpText.UsernameOfCreateUpdatePage")},t={type:"assetSelect",component:n["d"],rules:[{required:!1}],label:r["a"].t("xpack.Asset")},i={component:o["a"],rules:[{required:!0}],label:r["a"].t("xpack.Database"),el:{multiple:!1,value:[],ajax:{url:"/api/v1/applications/applications/?category=db",transformOption:function(e){return{label:e.name+"("+e.type_display+")",value:e.id,protocol:e.type}}}},on:{changeOptions:function(a,t){var r=Object(s["a"])(a,1),n=r[0];t({systemuser:[]}),e.fieldsMeta.systemuser.el.ajax.url="/api/v1/assets/system-users/?protocol=".concat(n[0].protocol)}}},u={hidden:function(e){return"custom"!==e.password_strategy||!1===e.is_password},rules:[{required:"create"===this.$route.meta.action,message:r["a"].t("common.fieldRequiredError"),trigger:"blur"}]},p={type:"group",items:d("asset")},c={type:"group",items:d("database")},h={el:{type:"textarea",placeholder:"-----BEGIN OPENSSH PRIVATE KEY-----",autosize:{minRows:3}},hidden:function(e){return!1===e.is_ssh_key},rules:[{required:"create"===this.$route.meta.action,message:this.$t("common.fieldRequiredError"),trigger:"blur"}]},_={label:r["a"].t("xpack.Node"),el:{value:[],ajax:{url:"/api/v1/assets/nodes/",transformOption:function(e){return{label:e.full_value,value:e.id}}}}},y={type:"switch"},m={type:"switch"},g={label:r["a"].t("xpack.ChangeAuthPlan.PasswordStrategy"),hidden:function(e){return!1===e.is_password}},f={label:r["a"].t("xpack.ChangeAuthPlan.SecretKeyStrategy"),hidden:function(e){return!1===e.is_ssh_key}},w={component:o["a"],label:r["a"].t("xpack.ChangeAuthPlan.SystemUser"),rules:[{required:!0}],el:{value:[],ajax:{url:"/api/v1/assets/system-users/",transformOption:function(e){return{label:e.name+"("+e.username+")",value:e.id}}}}},b={type:"switch"},x={type:"cronTab",component:n["e"],label:r["a"].t("xpack.RegularlyPerform"),hidden:function(e){return!1===e.is_periodic},helpText:r["a"].t("xpack.HelpText.CrontabOfCreateUpdatePage")},k={label:r["a"].t("xpack.CyclePerform"),hidden:function(e){return!1===e.is_periodic},helpText:r["a"].t("xpack.HelpText.IntervalOfCreateUpdatePage"),rules:[{validator:l}]};return{username:a,assets:t,database:i,systemuser:w,password:u,password_strategy:g,ssh_key_strategy:f,private_key:h,asset_password_rules:p,database_password_rules:c,nodes:_,is_password:y,is_periodic:b,is_ssh_key:m,crontab:x,interval:k}}a["a"]=c},e9eb:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("GenericCreateUpdatePage",e._b({},"GenericCreateUpdatePage",e.$data,!1))},r=[],n=(t("d92a"),t("cd4a")),o=t("e65b"),i={name:"AssetChangeAuthPlanCreateUpdate",components:{GenericCreateUpdatePage:n["d"]},data:function(){var e=o["a"].bind(this)();return{url:"/api/v1/xpack/change-auth-plan/plan/",fields:[[this.$t("common.Basic"),["name"]],[this.$t("xpack.Asset"),["username","assets","nodes"]],[this.$t("xpack.ChangeAuthPlan.PasswordStrategy"),["is_password","password_strategy","password","password_rules"]],[this.$t("xpack.ChangeAuthPlan.SecretKeyStrategy"),["is_ssh_key","ssh_key_strategy","private_key"]],[this.$t("xpack.Timer"),["is_periodic","crontab","interval"]],[this.$t("common.Other"),["comment"]]],initial:{password_strategy:"custom",ssh_key_strategy:"add",is_periodic:!0,is_password:!0,is_ssh_key:!1,password_rules:{length:30},interval:24},fieldsMeta:{username:e.username,assets:e.assets,password:e.password,password_rules:e.asset_password_rules,private_key:e.private_key,nodes:e.nodes,is_periodic:e.is_periodic,is_password:e.is_password,is_ssh_key:e.is_ssh_key,password_strategy:e.password_strategy,ssh_key_strategy:e.ssh_key_strategy,crontab:e.crontab,interval:e.interval},createSuccessNextRoute:{name:"ChangeAuthPlanIndex"},updateSuccessNextRoute:{name:"ChangeAuthPlanIndex"},cleanFormValue:function(e){return"custom"===e["password_strategy"]?delete e["password_rules"]:delete e["password"],""===e["interval"]&&delete e["interval"],e}}}},l=i,u=t("2877"),p=Object(u["a"])(l,s,r,!1,null,"ae93cf54",null);a["default"]=p.exports}}]);